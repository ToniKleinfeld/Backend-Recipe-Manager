{
  "name": "Recipe Manager DevEnv",
  "dockerComposeFile": "../docker-compose.dev.yml",
  "service": "backend",
  "workspaceFolder": "/workspace",

  "forwardPorts": [8080, 5432],

  "postCreateCommand": "git config --global --add safe.directory /workspace && mvn -v && java -version",

  "mounts": [
    "source=${localEnv:USERPROFILE}/.gitconfig,target=/root/.gitconfig,type=bind,consistency=cached",
    "source=${localEnv:USERPROFILE}/.ssh,target=/root/.ssh,type=bind,consistency=cached"
  ],

  "customizations": {
    "vscode": {
      "extensions": [
        // ===== JAVA ESSENTIALS =====
        "vscjava.vscode-java-pack",
        "redhat.java",
        
        // ===== SPRING BOOT =====
        "vscjava.vscode-spring-initializr",
        "vscjava.vscode-spring-boot-dashboard",
        "vmware.vscode-spring-boot",
        
        // ===== DOCKER & DEVCONTAINER =====
        "ms-azuretools.vscode-docker",
        "ms-vscode-remote.remote-containers",
        
        // ===== GIT =====
        "eamodio.gitlens",
        "mhutchie.git-graph",
        
        // ===== FILE SUPPORT =====
        "redhat.vscode-yaml",
        "redhat.vscode-xml",
        
        // ===== PRODUCTIVITY =====
        "gruntfuggly.todo-tree",
        "aaron-bond.better-comments",
        "PKief.material-icon-theme",
        
        // ===== API TESTING =====
        "humao.rest-client",
        
        // ===== OPTIONAL =====
        "streetsidesoftware.code-spell-checker"
      ],
      "settings": {
        // ===== JAVA SETTINGS =====
        "java.configuration.updateBuildConfiguration": "automatic",
        "java.server.launchMode": "Standard",
        "java.jdt.ls.java.home": "/opt/java/openjdk",
        "java.configuration.runtimes": [
          {
            "name": "JavaSE-21",
            "path": "/opt/java/openjdk",
            "default": true
          }
        ],
        "java.compile.nullAnalysis.mode": "automatic",
        "java.debug.settings.onBuildFailureProceed": true,
        
        // ===== SPRING BOOT SETTINGS =====
        "spring-boot.ls.java.home": "/opt/java/openjdk",
        "spring.initializr.defaultLanguage": "Java",
        
        // ===== TERMINAL =====
        "terminal.integrated.defaultProfile.linux": "bash",
        
        // ===== GIT =====
        "git.enabled": true,
        "git.path": "/usr/bin/git",
        "git.autofetch": true,
        "git.confirmSync": false,
        
        // ===== EDITOR =====
        "editor.formatOnSave": true,
        "editor.codeActionsOnSave": {
          "source.organizeImports": "explicit"
        },
        "editor.suggestSelection": "first",
        "editor.tabSize": 4,
        "editor.insertSpaces": true,
        
        // ===== FILES =====
        "files.exclude": {
          "**/.classpath": true,
          "**/.project": true,
          "**/.settings": true,
          "**/.factorypath": true
        },
        "files.watcherExclude": {
          "**/target/**": true
        }
      }
    }
  },
  
  "features": {
    "ghcr.io/devcontainers/features/git:1": {},
    "ghcr.io/devcontainers/features/github-cli:1": {}
  }
}